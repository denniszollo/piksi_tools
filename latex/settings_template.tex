\documentclass{article}

\usepackage{swiftnav}

\usepackage{endnotes}
\usepackage{moresize}
\usepackage{standalone}
\usepackage{longtable}
\usepackage{register}
\usepackage{bytefield}
\usepackage{booktabs}
\usepackage{minibox}
\usepackage{float}
\usepackage{amsmath}
\usepackage{caption}

\setlength{\regWidth}{0.4\textwidth}

\floatstyle{plain}
\newfloat{field}{h}{fld}
\floatname{field}{Field}

\numberwithin{table}{subsection}
\numberwithin{field}{subsection}

\renewcommand{\regLabelFamily}{}
\renewcommand\theversion{((( version )))}
\newcommand*{\myfont}{\fontfamily{qtm}\selectfont}
% ---------------------------------------------------------------------------
\title{Piksi Multi Settings}
\mysubtitle{Firmware Version  \theversion}
\author{Swift Navigation}
\date{\today}

\begin{document}

\maketitle
\thispagestyle{firstpage}

\section{Introduction}
\label{sec:settings}
\begin{flushleft}
Piksi{\myfont\raisebox{0.4ex}\tiny\textregistered}  Multi has a number of settings that can be controlled by the end user via the provided Swift Console or through the SBP binary message protocol.  This document serves to enumerate these settings and provide a detailed description of the setting plus any relevant notes. If a setting is listed as "Expert" in this document, the "Show Advanced Settings" checkbox must be checked or the --expert command line argument must be passed to the Swift Console in order to see or modify the value.  Settings listed as "readonly" cannot be modified by the user and are available for information only.
\par
Settings can be discovered, read, and written via the Swift Binary Protocol on interfaces configured to accept SBP messages.  Please refer to the setting section of the \href{http://swiftnav.com/latest/sbp-specification}{latest SBP message specification} or the open source \href{https://github.com/swift-nav/libsbp.git}{Libsbp software library} for more information.  The "Grouping" and "Name" fields in this document are used as a token for each settine when using the SBP settings API.
\end{flushleft}
((* block settings_toc *))
{
\newpage
\section{Settings Table}
\centering
  \begin{longtable}{p{0.15\textwidth}p{0.25\textwidth}p{0.6\textwidth}}
    \toprule
    Grouping & Name & Description \\
    \midrule
    ((*- for g in groups *))
    \textbf{(((g|escape_tex_exp|no_us)))} & & \\
    ((*- for m in setting *))
    ((*- if m.group==g *))
     & \hyperref[sec:(((m.group + m.name)))]{\texttt{(((m.name|escape_tex_exp|no_us)))}} & (((m.Description|escape_tex_exp|no_us))) \\ 
    ((*- endif *))
    ((*- endfor *))
    ((*- endfor *))
    \bottomrule
    \caption{Summary of message types}
  \end{longtable}
}
((* endblock *))

% ---------------------------------------------------------------------------
\newpage
\section{Settings Detail}
((* for g in groups *))
\subsection{(((g|escape_tex_exp|no_us)))}

((* for m in setting *))
((* if m.group==g *))
((* block settings_detail scoped *))
\label{sec:(((m.group + m.name)))}
\subsubsection{(((m.name|escape_tex_exp|no_us)))}
{
\textbf{Description:}
(((m.Description|escape_tex_exp|no_us)))
\begin{table}[H]
  \centering
  \begin{tabular}{p{4cm} p{7cm}}
    \toprule
    Label & Value \\
    \midrule
    \hbadness=20000
    ((*- for key,value in m.iteritems() *))
    ((*- if(key is defined and key != 'Notes' and key != 'Description' and value is defined and value != 'True') *))
    (((key|escape_tex_exp|no_us))) & (((value|escape_tex_exp|no_us))) \\
    ((*- endif *))
    ((*- endfor *))
    \midrule
    & (((m.size))) \\
    \bottomrule
  \end{tabular}
  \caption{(((m.name|escape_tex_exp|no_us)))}
\end{table}
\begin{flushleft}
((* if m.Notes is defined and m.Notes != 'None'*))
\textbf{Notes:}
(((m.Notes|escape_tex_exp |no_us)))
((* endif *))
\end{flushleft}
((* endblock *))
((* endif *))
((* endfor *))
((* endfor *))

\end{document}
